/**
 * Modules in this bundle
 * @license
 * 
 * react-carousel-ninja:
 *   license: MIT
 *   author: ahomu
 *   homepage: https://github.com/ahomu/react-carousel-ninja
 *   version: 0.1.1
 * 
 * date-now:
 *   licenses: MIT
 *   author: Raynos <raynos2@gmail.com>
 *   maintainers: raynos <raynos2@gmail.com>
 *   contributors: Artem Shoobovych
 *   homepage: https://github.com/Raynos/date-now
 *   version: 1.0.1
 * 
 * debounce:
 *   license: MIT
 *   maintainers: mattmueller <mattmuelle@gmail.com>, jongleberry <jonathanrichardong@gmail.com>, tootallnate <nathan@tootallnate.net>, clintwood <clint@anotherway.co.za>, thehydroimpulse <dnfagnan@gmail.com>, tjholowaychuk <tj@vision-media.ca>, rauchg <rauchg@gmail.com>, retrofox <rdsuarez@gmail.com>, coreh <thecoreh@gmail.com>, forbeslindesay <forbes@lindesay.co.uk>, kelonye <kelonyemitchel@gmail.com>, yields <yields@icloud.com>, anthonyshort <antshort@gmail.com>, ianstormtaylor <ian@ianstormtaylor.com>, cristiandouce <cristian@gravityonmars.com>, swatinem <arpad.borsos@googlemail.com>, stagas <gstagas@gmail.com>, amasad <amjad.masad@gmail.com>, juliangruber <julian@juliangruber.com>, shtylman <shtylman@gmail.com>, calvinfo <calvin@calv.info>, dominicbarnes <dominic@dbarnes.info>, timoxley <secoif@gmail.com>, stephenmathieson <me@stephenmathieson.com>, trevorgerhardt <trevorgerhardt@gmail.com>
 *   homepage: https://github.com/component/debounce
 *   version: 1.0.0
 * 
 * throttleit:
 *   license: MIT
 *   maintainers: tjholowaychuk <tj@vision-media.ca>, tootallnate <nathan@tootallnate.net>, rauchg <rauchg@gmail.com>, retrofox <rdsuarez@gmail.com>, coreh <thecoreh@gmail.com>, forbeslindesay <forbes@lindesay.co.uk>, kelonye <kelonyemitchel@gmail.com>, mattmueller <mattmuelle@gmail.com>, yields <yields@icloud.com>, anthonyshort <antshort@gmail.com>, jongleberry <jonathanrichardong@gmail.com>, ianstormtaylor <ian@ianstormtaylor.com>, cristiandouce <cristian@gravityonmars.com>, swatinem <arpad.borsos@googlemail.com>, stagas <gstagas@gmail.com>, amasad <amjad.masad@gmail.com>, juliangruber <julian@juliangruber.com>, shtylman <shtylman@gmail.com>, calvinfo <calvin@calv.info>, dominicbarnes <dominic@dbarnes.info>, stephenmathieson <me@stephenmathieson.com>, trevorgerhardt <trevorgerhardt@gmail.com>, timaschew <timaschew@gmail.com>, hughsk <hughskennedy@gmail.com>
 *   homepage: https://github.com/component/throttle
 *   version: 1.0.0
 * 
 * undefined:
 * 
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

/**
 * Module dependencies.
 */

var now = require('date-now');

/**
 * Returns a function, that, as long as it continues to be invoked, will not
 * be triggered. The function will be called after it stops being called for
 * N milliseconds. If `immediate` is passed, trigger the function on the
 * leading edge, instead of the trailing.
 *
 * @source underscore.js
 * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/
 * @param {Function} function to wrap
 * @param {Number} timeout in ms (`100`)
 * @param {Boolean} whether to execute at the beginning (`false`)
 * @api public
 */

module.exports = function debounce(func, wait, immediate){
  var timeout, args, context, timestamp, result;
  if (null == wait) wait = 100;

  function later() {
    var last = now() - timestamp;

    if (last < wait && last > 0) {
      timeout = setTimeout(later, wait - last);
    } else {
      timeout = null;
      if (!immediate) {
        result = func.apply(context, args);
        if (!timeout) context = args = null;
      }
    }
  };

  return function debounced() {
    context = this;
    args = arguments;
    timestamp = now();
    var callNow = immediate && !timeout;
    if (!timeout) timeout = setTimeout(later, wait);
    if (callNow) {
      result = func.apply(context, args);
      context = args = null;
    }

    return result;
  };
};

},{"date-now":2}],2:[function(require,module,exports){
module.exports = Date.now || now

function now() {
    return new Date().getTime()
}

},{}],3:[function(require,module,exports){
module.exports = throttle;

/**
 * Returns a new function that, when invoked, invokes `func` at most once per `wait` milliseconds.
 *
 * @param {Function} func Function to wrap.
 * @param {Number} wait Number of milliseconds that must elapse between `func` invocations.
 * @return {Function} A new function that wraps the `func` function passed in.
 */

function throttle (func, wait) {
  var ctx, args, rtn, timeoutID; // caching
  var last = 0;

  return function throttled () {
    ctx = this;
    args = arguments;
    var delta = new Date() - last;
    if (!timeoutID)
      if (delta >= wait) call();
      else timeoutID = setTimeout(call, wait - delta);
    return rtn;
  };

  function call () {
    timeoutID = 0;
    last = +new Date();
    rtn = func.apply(ctx, args);
    ctx = null;
    args = null;
  }
}

},{}],4:[function(require,module,exports){
'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var React = _react;

var _debounce = require('debounce');

var debounce = _debounce;

var DURATION_DEBOUNCE_RESIZE = 300;
var DELTA_PERCENTAGE_SWIPE = .2;
var DIRECTION_RIGHT = 0;
var DIRECTION_LEFT = 1;

var CarouselNinjaContainer = (function (_React$Component) {
    _inherits(CarouselNinjaContainer, _React$Component);

    function CarouselNinjaContainer() {
        var _this = this;

        _classCallCheck(this, CarouselNinjaContainer);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        _React$Component.call.apply(_React$Component, [this].concat(args));
        this.state = {
            outerWidth: 0,
            innerWidth: 0,
            dragging: false,
            deltaX: 0,
            deltaY: 0
        };
        this.startCoordinate = {
            x: 0,
            y: 0
        };
        this.onResize = debounce(function (evt) {
            _this.calculateWidth();
        }, DURATION_DEBOUNCE_RESIZE);
    }

    CarouselNinjaContainer.prototype.calculateWidth = function calculateWidth() {
        var firstChild = this.refs['child-' + this.props.select];
        this.setState({
            innerWidth: firstChild.clientWidth
        });
    };

    CarouselNinjaContainer.prototype.onMouseDown = function onMouseDown(evt) {
        this.startCoordinate = {
            x: evt.clientX,
            y: evt.clientY
        };
        this.setState({
            dragging: true
        });
    };

    CarouselNinjaContainer.prototype.onMouseMove = function onMouseMove(evt) {
        if (!this.state.dragging) {
            return;
        }
        evt.preventDefault();
        this.setState({
            deltaX: evt.clientX - this.startCoordinate.x,
            deltaY: evt.clientY - this.startCoordinate.y
        });
    };

    CarouselNinjaContainer.prototype.onMouseUp = function onMouseUp(evt) {
        if (!this.state.dragging) {
            return;
        }
        this.handleSwipe();
    };

    CarouselNinjaContainer.prototype.onMouseLeave = function onMouseLeave(evt) {
        if (!this.state.dragging) {
            return;
        }
        this.handleSwipe();
    };

    CarouselNinjaContainer.prototype.handleSwipe = function handleSwipe() {
        var deltaAbsX = Math.abs(this.state.deltaX);
        var threshold = this.state.innerWidth * DELTA_PERCENTAGE_SWIPE;
        if (deltaAbsX > threshold) {
            var direction = this.state.deltaX > -1 ? DIRECTION_RIGHT : DIRECTION_LEFT;
            if (direction === DIRECTION_LEFT) {
                this.props.onSwipeLeft(this.props.select + 1);
            } else if (direction === DIRECTION_RIGHT) {
                this.props.onSwipeRight(this.props.select - 1);
            }
        }
        // reset
        this.startCoordinate = {
            x: 0,
            y: 0
        };
        this.setState({
            dragging: false,
            deltaX: 0,
            deltaY: 0
        });
    };

    CarouselNinjaContainer.prototype.componentDidMount = function componentDidMount() {
        this.calculateWidth();
        window.addEventListener('resize', this.onResize);
    };

    CarouselNinjaContainer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
        if (this.props.onSelect) {
            this.props.onSelect(nextProps.select, this.props.select);
        }
    };

    CarouselNinjaContainer.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps, nextState) {
        return false || nextProps.select !== this.props.select || nextProps.children !== this.props.children || nextState !== this.state;
    };

    CarouselNinjaContainer.prototype.componentWillUnmount = function componentWillUnmount() {
        window.addEventListener('resize', this.onResize);
    };

    CarouselNinjaContainer.prototype.render = function render() {
        var _this2 = this;

        /**
         * 選択された要素が見た目上の中央であるとして、その右側と左側にあるべき要素を分類する
         *
         * @example this.props.children = [0, 1, 2, 3, 4]
         *          this.props.select   = 3
         */
        var children = React.Children.toArray(this.props.children);
        var halfSideSize = Math.floor(children.length / 2);
        // [0, 1, 2, *3*, 4] => [0, 1, 2]
        var leftward = children.slice(0, this.props.select);
        // [0, 1, 2, *3*, 4] => [4]
        var rightward = children.slice(this.props.select + 1, children.length);
        // 片側にある過剰分の要素を、もう片側に移して結合する
        if (leftward.length > halfSideSize) {
            // right:[4] + left:[0](, [1, 2]) => left:[1, 2]/ center:[3] / right:[4, 0]
            rightward = [].concat(rightward, leftward.splice(0, leftward.length - halfSideSize));
        } else if (rightward.length > halfSideSize) {
            // right:(2, 3, )[4] + left:[0] => left:[4, 0] / center:[1] / right:[2, 3]
            leftward = [].concat(rightward.splice(halfSideSize), leftward);
        }
        return React.createElement("div", { "className": 'CarouselNinjaContainer ' + (this.state.dragging ? 'CarouselNinjaContainer--dragging' : ''), "onMouseDown": this.onMouseDown.bind(this), "onMouseMove": this.onMouseMove.bind(this), "onMouseUp": this.onMouseUp.bind(this), "onMouseLeave": this.onMouseLeave.bind(this) }, children.map(function (child, i) {
            var isCenter = i === _this2.props.select;
            var isLeftEdge = false;
            var isRightEdge = false;
            var arrangedPos = undefined;
            var calcFunction = undefined;
            // TODO multiple translateX で表現できないか？ calc() があると IE10, IE11 で transition されない
            // TODO 50% のかわりに ラッパーのwidth / 2で実数計算するとか？
            // 左側・右側・中央のいずれに属しているかで位置の指定を変更する
            if ((arrangedPos = leftward.indexOf(child)) !== -1) {
                // Leftward [0=1920, 1=1280, 2=640] 左側は配列の始点に向けてオフセットを大きくとる
                var baseTranslateX = (leftward.length - arrangedPos) * _this2.state.innerWidth;
                calcFunction = 'calc(50% - ' + (baseTranslateX - _this2.state.deltaX) + 'px)';
                isLeftEdge = arrangedPos === 0;
            } else if ((arrangedPos = rightward.indexOf(child)) !== -1) {
                // Rightward [0=640, 1=1280, 2=1920] 右側は配列の終点に向けてオフセットを大きくとる
                var baseTranslateX = (arrangedPos + 1) * _this2.state.innerWidth;
                calcFunction = 'calc(50% + ' + (baseTranslateX + _this2.state.deltaX) + 'px)';
                isRightEdge = arrangedPos === rightward.length - 1;
            } else {
                // Center
                calcFunction = 'calc(50% + ' + (0 + _this2.state.deltaX) + 'px)';
            }
            var className = 'CarouselNinjaContainer__pane';
            className += isCenter ? _this2.props.activeClass : '';
            className += isRightEdge ? _this2.props.rightEdgeClass : '';
            className += isLeftEdge ? _this2.props.leftEdgeClass : '';
            var style = {
                left: calcFunction,
                marginLeft: '-' + _this2.state.innerWidth / 2 + 'px'
            };
            return React.createElement("div", { "ref": 'child-' + i, "className": className, "key": i, "style": style, "aria-hidden": isCenter ? 'false' : 'true' }, child);
        }));
    };

    return CarouselNinjaContainer;
})(React.Component);

exports['default'] = CarouselNinjaContainer;

CarouselNinjaContainer.defaultProps = {
    activeClass: ' is-active',
    rightEdgeClass: ' is-right',
    leftEdgeClass: ' is-left',
    select: 0,
    onSelect: function onSelect() {},
    onSwipeLeft: function onSwipeLeft() {},
    onSwipeRight: function onSwipeRight() {}
};

},{"debounce":1,"react":undefined}],5:[function(require,module,exports){
'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var React = _react;

var CarouselNinjaSelector = (function (_React$Component) {
    _inherits(CarouselNinjaSelector, _React$Component);

    function CarouselNinjaSelector() {
        _classCallCheck(this, CarouselNinjaSelector);

        _React$Component.apply(this, arguments);
    }

    CarouselNinjaSelector.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
        if (this.props.onSelect) {
            this.props.onSelect(nextProps.select, this.props.select);
        }
    };

    CarouselNinjaSelector.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {
        return false || nextProps.select !== this.props.select || nextProps.children !== this.props.children;
    };

    CarouselNinjaSelector.prototype.renderFromChildren = function renderFromChildren() {
        var _this = this;

        return React.Children.map(this.props.children, function (child, i) {
            var isSelectedChild = i === _this.props.select;
            var className = 'CarouselNinjaSelector__item';
            className += isSelectedChild ? _this.props.activeClass : '';
            return React.createElement("li", { "className": className, "key": i, "onClick": _this.props.onClickSelector.bind(_this, i), "aria-selected": isSelectedChild ? 'true' : 'false' }, child);
        });
    };

    CarouselNinjaSelector.prototype.renderItemsBySelf = function renderItemsBySelf() {
        var children = [],
            iz = this.props.length;
        for (var i = 0; i < iz; i++) {
            var isSelectedChild = i === this.props.select;
            var className = 'CarouselNinjaSelector__item';
            className += isSelectedChild ? this.props.activeClass : '';
            children.push(React.createElement("li", { "className": className, "key": i, "onClick": this.props.onClickSelector.bind(this, i), "aria-selected": isSelectedChild ? 'true' : 'false' }, React.createElement("button", { "tabIndex": -1 })));
        }
        return children;
    };

    CarouselNinjaSelector.prototype.render = function render() {
        return React.createElement("ul", { "className": "CarouselNinjaSelector" }, React.Children.count(this.props.children) ? this.renderFromChildren() : this.renderItemsBySelf());
    };

    return CarouselNinjaSelector;
})(React.Component);

exports['default'] = CarouselNinjaSelector;

CarouselNinjaSelector.defaultProps = {
    activeClass: ' is-active',
    select: 0,
    length: 0,
    onSelect: function onSelect() {},
    onClickSelector: function onClickSelector() {}
};

},{"react":undefined}],6:[function(require,module,exports){
/// <reference path="../typings/bundle.d.ts" />
'use strict';

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _react = require('react');

var React = _react;

var _throttleit = require('throttleit');

var throttle = _throttleit;

var _CarouselNinjaContainer = require('./CarouselNinjaContainer');

var _CarouselNinjaSelector = require('./CarouselNinjaSelector');

var DURATION_THROTTLE_KEYUP = 150;
var KEYCODE_LEFT = 37;
var KEYCODE_RIGHT = 39;

var CarouselNinja = (function (_React$Component) {
    _inherits(CarouselNinja, _React$Component);

    function CarouselNinja() {
        var _this = this;

        _classCallCheck(this, CarouselNinja);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        _React$Component.call.apply(_React$Component, [this].concat(args));
        this.state = {
            currentSelect: 2
        };
        this.onKeyUp = throttle(function (e) {
            switch (e.keyCode) {
                case KEYCODE_LEFT:
                    _this.updateSelect(_this.state.currentSelect - 1);
                    break;
                case KEYCODE_RIGHT:
                    _this.updateSelect(_this.state.currentSelect + 1);
                    break;
            }
        }, DURATION_THROTTLE_KEYUP);
    }

    CarouselNinja.prototype.updateSelect = function updateSelect(select) {
        var lastIndex = React.Children.count(this.props.children) - 1;
        if (select < 0) {
            this.setState({
                currentSelect: lastIndex
            });
        } else if (select > lastIndex) {
            this.setState({
                currentSelect: 0
            });
        } else {
            this.setState({
                currentSelect: select
            });
        }
    };

    CarouselNinja.prototype.onSelectChange = function onSelectChange(nextI, curtI) {
        this.props.onSelect(nextI, curtI);
    };

    CarouselNinja.prototype.onClickSelector = function onClickSelector(selectI) {
        this.updateSelect(selectI);
    };

    CarouselNinja.prototype.onSwipeLeft = function onSwipeLeft(nextI) {
        this.updateSelect(nextI);
    };

    CarouselNinja.prototype.onSwipeRight = function onSwipeRight(nextI) {
        this.updateSelect(nextI);
    };

    CarouselNinja.prototype.render = function render() {
        // TODO [aria-controls]
        return React.createElement("div", { "tabIndex": 0, "className": this.props.className, "onKeyUp": this.onKeyUp.bind(this) }, React.createElement(_CarouselNinjaContainer['default'], { "activeClass": this.props.activeClass, "select": this.state.currentSelect, "onSelect": this.onSelectChange.bind(this), "onSwipeLeft": this.onSwipeLeft.bind(this), "onSwipeRight": this.onSwipeRight.bind(this) }, this.props.children), React.createElement(_CarouselNinjaSelector['default'], { "activeClass": this.props.activeClass, "select": this.state.currentSelect, "length": React.Children.count(this.props.children), "onSelect": this.onSelectChange.bind(this), "onClickSelector": this.onClickSelector.bind(this) }));
    };

    return CarouselNinja;
})(React.Component);

CarouselNinja.defaultProps = {
    className: '',
    activeClass: ' is-active',
    onSelect: function onSelect() {}
};
exports.CarouselNinja = CarouselNinja;
exports.CarouselNinjaContainer = _CarouselNinjaContainer['default'];
exports.CarouselNinjaSelector = _CarouselNinjaSelector['default'];

},{"./CarouselNinjaContainer":4,"./CarouselNinjaSelector":5,"react":undefined,"throttleit":3}]},{},[6])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZGVib3VuY2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZGVib3VuY2Uvbm9kZV9tb2R1bGVzL2RhdGUtbm93L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3Rocm90dGxlaXQvaW5kZXguanMiLCJzcmMvQ2Fyb3VzZWxOaW5qYUNvbnRhaW5lci50c3giLCJzcmMvQ2Fyb3VzZWxOaW5qYVNlbGVjdG9yLnRzeCIsInNyYy9pbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7O3FCQ2hDdUIsT0FBTzs7SUFBbEIsS0FBSzs7d0JBRVMsVUFBVTs7SUFBeEIsUUFBUTs7QUFFcEIsSUFBTSx3QkFBd0IsR0FBRyxHQUFHLENBQUM7QUFDckMsSUFBTSxzQkFBc0IsR0FB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Q0FBQyxJQUFJLENBQUUsRUFBQSxpQkFDMUIsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsRUFBQSxDQUFHLENBQ3ZFLENBQ047S0FDSDs7V0E1RUgsYUFBQTtHQUE0QixLQUFLLENBQUMsU0FBUzs7QUFFbEMsYUFBQSxDQUFBLFlBQVksR0FBRztBQUNwQixhQUFTLEVBQUssRUFBRTtBQUNoQixlQUFXLEVBQUcsWUFBWTtBQUMxQixZQUFRLEVBQU0sb0JBQUEsRUFBUTtDQUN2QixDQXVFRjtRQUdDLGFBQWEsR0FBYixhQUFhO1FBQ2Isc0JBQXNCO1FBQ3RCLHFCQUFxQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJcbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgbm93ID0gcmVxdWlyZSgnZGF0ZS1ub3cnKTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4gKiBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gKiBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbiAqIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG4gKlxuICogQHNvdXJjZSB1bmRlcnNjb3JlLmpzXG4gKiBAc2VlIGh0dHA6Ly91bnNjcmlwdGFibGUuY29tLzIwMDkvMDMvMjAvZGVib3VuY2luZy1qYXZhc2NyaXB0LW1ldGhvZHMvXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jdGlvbiB0byB3cmFwXG4gKiBAcGFyYW0ge051bWJlcn0gdGltZW91dCBpbiBtcyAoYDEwMGApXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHdoZXRoZXIgdG8gZXhlY3V0ZSBhdCB0aGUgYmVnaW5uaW5nIChgZmFsc2VgKVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSl7XG4gIHZhciB0aW1lb3V0LCBhcmdzLCBjb250ZXh0LCB0aW1lc3RhbXAsIHJlc3VsdDtcbiAgaWYgKG51bGwgPT0gd2FpdCkgd2FpdCA9IDEwMDtcblxuICBmdW5jdGlvbiBsYXRlcigpIHtcbiAgICB2YXIgbGFzdCA9IG5vdygpIC0gdGltZXN0YW1wO1xuXG4gICAgaWYgKGxhc3QgPCB3YWl0ICYmIGxhc3QgPiAwKSB7XG4gICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIGNvbnRleHQgPSB0aGlzO1xuICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdGltZXN0YW1wID0gbm93KCk7XG4gICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgaWYgKCF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IERhdGUubm93IHx8IG5vd1xuXG5mdW5jdGlvbiBub3coKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHRocm90dGxlO1xuXG4vKipcbiAqIFJldHVybnMgYSBuZXcgZnVuY3Rpb24gdGhhdCwgd2hlbiBpbnZva2VkLCBpbnZva2VzIGBmdW5jYCBhdCBtb3N0IG9uY2UgcGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBGdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtOdW1iZXJ9IHdhaXQgTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IG11c3QgZWxhcHNlIGJldHdlZW4gYGZ1bmNgIGludm9jYXRpb25zLlxuICogQHJldHVybiB7RnVuY3Rpb259IEEgbmV3IGZ1bmN0aW9uIHRoYXQgd3JhcHMgdGhlIGBmdW5jYCBmdW5jdGlvbiBwYXNzZWQgaW4uXG4gKi9cblxuZnVuY3Rpb24gdGhyb3R0bGUgKGZ1bmMsIHdhaXQpIHtcbiAgdmFyIGN0eCwgYXJncywgcnRuLCB0aW1lb3V0SUQ7IC8vIGNhY2hpbmdcbiAgdmFyIGxhc3QgPSAwO1xuXG4gIHJldHVybiBmdW5jdGlvbiB0aHJvdHRsZWQgKCkge1xuICAgIGN0eCA9IHRoaXM7XG4gICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgZGVsdGEgPSBuZXcgRGF0ZSgpIC0gbGFzdDtcbiAgICBpZiAoIXRpbWVvdXRJRClcbiAgICAgIGlmIChkZWx0YSA+PSB3YWl0KSBjYWxsKCk7XG4gICAgICBlbHNlIHRpbWVvdXRJRCA9IHNldFRpbWVvdXQoY2FsbCwgd2FpdCAtIGRlbHRhKTtcbiAgICByZXR1cm4gcnRuO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNhbGwgKCkge1xuICAgIHRpbWVvdXRJRCA9IDA7XG4gICAgbGFzdCA9ICtuZXcgRGF0ZSgpO1xuICAgIHJ0biA9IGZ1bmMuYXBwbHkoY3R4LCBhcmdzKTtcbiAgICBjdHggPSBudWxsO1xuICAgIGFyZ3MgPSBudWxsO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0ICogYXMgZGVib3VuY2UgZnJvbSAnZGVib3VuY2UnO1xuXG5jb25zdCBEVVJBVElPTl9ERUJPVU5DRV9SRVNJWkUgPSAzMDA7XG5jb25zdCBERUxUQV9QRVJDRU5UQUdFX1NXSVBFICAgPSAuMjtcblxuY29uc3QgRElSRUNUSU9OX1JJR0hUID0gMDtcbmNvbnN0IERJUkVDVElPTl9MRUZUICA9IDE7XG5cbmludGVyZmFjZSBDYXJvdXNlbE5pbmphQ29udGFpbmVyUHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxDYXJvdXNlbE5pbmphQ29udGFpbmVyPiB7XG4gIGFjdGl2ZUNsYXNzPzogc3RyaW5nO1xuICByaWdodEVkZ2VDbGFzcz86IHN0cmluZztcbiAgbGVmdEVkZ2VDbGFzcz86IHN0cmluZztcbiAgc2VsZWN0OiBudW1iZXI7XG4gIG9uU2VsZWN0PyA6IChuZXh0STogbnVtYmVyLCBjdXJ0STogbnVtYmVyKSA9PiB2b2lkO1xuICBvblN3aXBlTGVmdD8gOiAobmV4dEk6IG51bWJlcikgPT4gdm9pZDtcbiAgb25Td2lwZVJpZ2h0PyA6IChuZXh0STogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5pbnRlcmZhY2UgQ2Fyb3VzZWxOaW5qYUNvbnRhaW5lclN0YXRlIHtcbiAgaW5uZXJXaWR0aD86IG51bWJlcjtcbiAgZHJhZ2dpbmc/OiBib29sZWFuO1xuICBkZWx0YVg/OiBudW1iZXI7XG4gIGRlbHRhWT86IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2Fyb3VzZWxOaW5qYUNvbnRhaW5lciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxDYXJvdXNlbE5pbmphQ29udGFpbmVyUHJvcHMsIENhcm91c2VsTmluamFDb250YWluZXJTdGF0ZT4ge1xuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgYWN0aXZlQ2xhc3MgICAgOiAnIGlzLWFjdGl2ZScsXG4gICAgcmlnaHRFZGdlQ2xhc3MgOiAnIGlzLXJpZ2h0JyxcbiAgICBsZWZ0RWRnZUNsYXNzICA6ICcgaXMtbGVmdCcsXG4gICAgc2VsZWN0ICAgICAgICAgOiAwLFxuICAgIG9uU2VsZWN0ICAgICAgIDogKCkgPT4ge30sXG4gICAgb25Td2lwZUxlZnQgICAgOiAoKSA9PiB7fSxcbiAgICBvblN3aXBlUmlnaHQgICA6ICgpID0+IHt9XG4gIH07XG5cbiAgc3RhdGUgPSB7XG4gICAgb3V0ZXJXaWR0aCA6IDAsXG4gICAgaW5uZXJXaWR0aCA6IDAsXG4gICAgZHJhZ2dpbmcgICA6IGZhbHNlLFxuICAgIGRlbHRhWCAgICAgOiAwLFxuICAgIGRlbHRhWSAgICAgOiAwXG4gIH07XG5cbiAgc3RhcnRDb29yZGluYXRlOiB7XG4gICAgeDogbnVtYmVyLFxuICAgIHk6IG51bWJlclxuICB9ID0ge1xuICAgIHggOiAwLFxuICAgIHkgOiAwXG4gIH07XG5cbiAgY2FsY3VsYXRlV2lkdGgoKSB7XG4gICAgY29uc3QgZmlyc3RDaGlsZDogRWxlbWVudCA9IHRoaXMucmVmc1tgY2hpbGQtJHt0aGlzLnByb3BzLnNlbGVjdH1gXSBhcyBhbnk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpbm5lcldpZHRoIDogZmlyc3RDaGlsZC5jbGllbnRXaWR0aFxuICAgIH0pO1xuICB9XG5cbiAgb25Nb3VzZURvd24oZXZ0OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5zdGFydENvb3JkaW5hdGUgPSB7XG4gICAgICB4IDogZXZ0LmNsaWVudFgsXG4gICAgICB5IDogZXZ0LmNsaWVudFlcbiAgICB9O1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZHJhZ2dpbmcgICA6IHRydWVcbiAgICB9KTtcbiAgfVxuXG4gIG9uTW91c2VNb3ZlKGV2dDogTW91c2VFdmVudCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5kcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRlbHRhWCA6IGV2dC5jbGllbnRYIC0gdGhpcy5zdGFydENvb3JkaW5hdGUueCxcbiAgICAgIGRlbHRhWSA6IGV2dC5jbGllbnRZIC0gdGhpcy5zdGFydENvb3JkaW5hdGUueVxuICAgIH0pO1xuICB9XG5cbiAgb25Nb3VzZVVwKGV2dDogTW91c2VFdmVudCkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5kcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmhhbmRsZVN3aXBlKCk7XG4gIH1cblxuICBvbk1vdXNlTGVhdmUoZXZ0OiBNb3VzZUV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmRyYWdnaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuaGFuZGxlU3dpcGUoKTtcbiAgfVxuXG4gIGhhbmRsZVN3aXBlKCkge1xuICAgIGNvbnN0IGRlbHRhQWJzWCA9IE1hdGguYWJzKHRoaXMuc3RhdGUuZGVsdGFYKTtcbiAgICBjb25zdCB0aHJlc2hvbGQgPSB0aGlzLnN0YXRlLmlubmVyV2lkdGggKiBERUxUQV9QRVJDRU5UQUdFX1NXSVBFO1xuXG4gICAgaWYgKGRlbHRhQWJzWCA+IHRocmVzaG9sZCkge1xuXG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSB0aGlzLnN0YXRlLmRlbHRhWCA+IC0xID8gRElSRUNUSU9OX1JJR0hUIDogRElSRUNUSU9OX0xFRlQ7XG5cbiAgICAgIGlmIChkaXJlY3Rpb24gPT09IERJUkVDVElPTl9MRUZUKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25Td2lwZUxlZnQodGhpcy5wcm9wcy5zZWxlY3QgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSBESVJFQ1RJT05fUklHSFQpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblN3aXBlUmlnaHQodGhpcy5wcm9wcy5zZWxlY3QgLSAxKTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIC8vIHJlc2V0XG4gICAgdGhpcy5zdGFydENvb3JkaW5hdGUgPSB7XG4gICAgICB4IDogMCxcbiAgICAgIHkgOiAwXG4gICAgfTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRyYWdnaW5nIDogZmFsc2UsXG4gICAgICBkZWx0YVggICA6IDAsXG4gICAgICBkZWx0YVkgICA6IDBcbiAgICB9KTtcbiAgfVxuXG4gIG9uUmVzaXplID0gZGVib3VuY2UoKGV2dDogRXZlbnQpID0+IHtcbiAgICB0aGlzLmNhbGN1bGF0ZVdpZHRoKCk7XG4gIH0sIERVUkFUSU9OX0RFQk9VTkNFX1JFU0laRSk7XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5jYWxjdWxhdGVXaWR0aCgpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzOiBDYXJvdXNlbE5pbmphQ29udGFpbmVyUHJvcHMpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vblNlbGVjdCkge1xuICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdChuZXh0UHJvcHMuc2VsZWN0LCB0aGlzLnByb3BzLnNlbGVjdCk7XG4gICAgfVxuICB9XG5cbiAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wczogQ2Fyb3VzZWxOaW5qYUNvbnRhaW5lclByb3BzLCBuZXh0U3RhdGU6IENhcm91c2VsTmluamFDb250YWluZXJTdGF0ZSkge1xuICAgIHJldHVybiBmYWxzZSB8fFxuICAgICAgbmV4dFByb3BzLnNlbGVjdCAhPT0gdGhpcy5wcm9wcy5zZWxlY3QgfHxcbiAgICAgIG5leHRQcm9wcy5jaGlsZHJlbiAhPT0gdGhpcy5wcm9wcy5jaGlsZHJlbiB8fFxuICAgICAgbmV4dFN0YXRlICE9PSB0aGlzLnN0YXRlXG4gICAgO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8qKlxuICAgICAqIOmBuOaKnuOBleOCjOOBn+imgee0oOOBjOimi+OBn+ebruS4iuOBruS4reWkruOBp+OBguOCi+OBqOOBl+OBpuOAgeOBneOBruWPs+WBtOOBqOW3puWBtOOBq+OBguOCi+OBueOBjeimgee0oOOCkuWIhumhnuOBmeOCi1xuICAgICAqXG4gICAgICogQGV4YW1wbGUgdGhpcy5wcm9wcy5jaGlsZHJlbiA9IFswLCAxLCAyLCAzLCA0XVxuICAgICAqICAgICAgICAgIHRoaXMucHJvcHMuc2VsZWN0ICAgPSAzXG4gICAgICovXG4gICAgY29uc3QgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVtdID0gKFJlYWN0LkNoaWxkcmVuIGFzIGFueSkudG9BcnJheSh0aGlzLnByb3BzLmNoaWxkcmVuKTtcbiAgICBjb25zdCBoYWxmU2lkZVNpemUgPSBNYXRoLmZsb29yKGNoaWxkcmVuLmxlbmd0aCAvIDIpO1xuXG4gICAgLy8gWzAsIDEsIDIsICozKiwgNF0gPT4gWzAsIDEsIDJdXG4gICAgbGV0IGxlZnR3YXJkID0gY2hpbGRyZW4uc2xpY2UoMCwgdGhpcy5wcm9wcy5zZWxlY3QpO1xuICAgIC8vIFswLCAxLCAyLCAqMyosIDRdID0+IFs0XVxuICAgIGxldCByaWdodHdhcmQgPSBjaGlsZHJlbi5zbGljZSh0aGlzLnByb3BzLnNlbGVjdCArIDEsIGNoaWxkcmVuLmxlbmd0aCk7XG5cbiAgICAvLyDniYflgbTjgavjgYLjgovpgY7libDliIbjga7opoHntKDjgpLjgIHjgoLjgYbniYflgbTjgavnp7vjgZfjgabntZDlkIjjgZnjgotcbiAgICBpZiAobGVmdHdhcmQubGVuZ3RoID4gaGFsZlNpZGVTaXplKSB7XG4gICAgICAvLyByaWdodDpbNF0gKyBsZWZ0OlswXSgsIFsxLCAyXSkgPT4gbGVmdDpbMSwgMl0vIGNlbnRlcjpbM10gLyByaWdodDpbNCwgMF1cbiAgICAgIHJpZ2h0d2FyZCA9IFtdLmNvbmNhdChyaWdodHdhcmQsIGxlZnR3YXJkLnNwbGljZSgwLCBsZWZ0d2FyZC5sZW5ndGggLSBoYWxmU2lkZVNpemUpKTtcbiAgICB9IGVsc2UgaWYgKHJpZ2h0d2FyZC5sZW5ndGggPiBoYWxmU2lkZVNpemUpIHtcbiAgICAgIC8vIHJpZ2h0OigyLCAzLCApWzRdICsgbGVmdDpbMF0gPT4gbGVmdDpbNCwgMF0gLyBjZW50ZXI6WzFdIC8gcmlnaHQ6WzIsIDNdXG4gICAgICBsZWZ0d2FyZCA9IFtdLmNvbmNhdChyaWdodHdhcmQuc3BsaWNlKGhhbGZTaWRlU2l6ZSksIGxlZnR3YXJkKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YENhcm91c2VsTmluamFDb250YWluZXIgJHt0aGlzLnN0YXRlLmRyYWdnaW5nID8gJ0Nhcm91c2VsTmluamFDb250YWluZXItLWRyYWdnaW5nJyA6ICcnfWB9XG4gICAgICAgICAgICAgb25Nb3VzZURvd249e3RoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKX1cbiAgICAgICAgICAgICBvbk1vdXNlTW92ZT17dGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgIG9uTW91c2VVcD17dGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e3RoaXMub25Nb3VzZUxlYXZlLmJpbmQodGhpcyl9PlxuXG4gICAgICAgICAge2NoaWxkcmVuLm1hcCgoY2hpbGQ6IFJlYWN0LlJlYWN0Tm9kZSwgaTogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc0NlbnRlciA9IChpID09PSB0aGlzLnByb3BzLnNlbGVjdCk7XG4gICAgICAgICAgICBsZXQgaXNMZWZ0RWRnZSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGlzUmlnaHRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGxldCBhcnJhbmdlZFBvczogbnVtYmVyO1xuICAgICAgICAgICAgbGV0IGNhbGNGdW5jdGlvbjogc3RyaW5nO1xuXG4gICAgICAgICAgICAvLyBUT0RPIG11bHRpcGxlIHRyYW5zbGF0ZVgg44Gn6KGo54++44Gn44GN44Gq44GE44GL77yfIGNhbGMoKSDjgYzjgYLjgovjgaggSUUxMCwgSUUxMSDjgacgdHJhbnNpdGlvbiDjgZXjgozjgarjgYRcbiAgICAgICAgICAgIC8vIFRPRE8gNTAlIOOBruOBi+OCj+OCiuOBqyDjg6njg4Pjg5Hjg7zjga53aWR0aCAvIDLjgaflrp/mlbDoqIjnrpfjgZnjgovjgajjgYvvvJ9cbiAgICAgICAgICAgIC8vIOW3puWBtOODu+WPs+WBtOODu+S4reWkruOBruOBhOOBmuOCjOOBq+WxnuOBl+OBpuOBhOOCi+OBi+OBp+S9jee9ruOBruaMh+WumuOCkuWkieabtOOBmeOCi1xuICAgICAgICAgICAgaWYgKChhcnJhbmdlZFBvcyA9IGxlZnR3YXJkLmluZGV4T2YoY2hpbGQpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgLy8gTGVmdHdhcmQgWzA9MTkyMCwgMT0xMjgwLCAyPTY0MF0g5bem5YG044Gv6YWN5YiX44Gu5aeL54K544Gr5ZCR44GR44Gm44Kq44OV44K744OD44OI44KS5aSn44GN44GP44Go44KLXG4gICAgICAgICAgICAgIGxldCBiYXNlVHJhbnNsYXRlWCA9IChsZWZ0d2FyZC5sZW5ndGggLSBhcnJhbmdlZFBvcykgKiB0aGlzLnN0YXRlLmlubmVyV2lkdGhcbiAgICAgICAgICAgICAgY2FsY0Z1bmN0aW9uID0gYGNhbGMoNTAlIC0gJHtiYXNlVHJhbnNsYXRlWCAtIHRoaXMuc3RhdGUuZGVsdGFYfXB4KWA7XG4gICAgICAgICAgICAgIGlzTGVmdEVkZ2UgPSBhcnJhbmdlZFBvcyA9PT0gMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoKGFycmFuZ2VkUG9zID0gcmlnaHR3YXJkLmluZGV4T2YoY2hpbGQpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgLy8gUmlnaHR3YXJkIFswPTY0MCwgMT0xMjgwLCAyPTE5MjBdIOWPs+WBtOOBr+mFjeWIl+OBrue1gueCueOBq+WQkeOBkeOBpuOCquODleOCu+ODg+ODiOOCkuWkp+OBjeOBj+OBqOOCi1xuICAgICAgICAgICAgICBsZXQgYmFzZVRyYW5zbGF0ZVggPSAoYXJyYW5nZWRQb3MgKyAxKSAqIHRoaXMuc3RhdGUuaW5uZXJXaWR0aFxuICAgICAgICAgICAgICBjYWxjRnVuY3Rpb24gPSBgY2FsYyg1MCUgKyAke2Jhc2VUcmFuc2xhdGVYICsgdGhpcy5zdGF0ZS5kZWx0YVh9cHgpYDtcbiAgICAgICAgICAgICAgaXNSaWdodEVkZ2UgPSBhcnJhbmdlZFBvcyA9PT0gcmlnaHR3YXJkLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBDZW50ZXJcbiAgICAgICAgICAgICAgY2FsY0Z1bmN0aW9uID0gYGNhbGMoNTAlICsgJHswICsgdGhpcy5zdGF0ZS5kZWx0YVh9cHgpYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGNsYXNzTmFtZSA9ICdDYXJvdXNlbE5pbmphQ29udGFpbmVyX19wYW5lJztcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSBpc0NlbnRlciAgICA/IHRoaXMucHJvcHMuYWN0aXZlQ2xhc3MgICAgOiAnJztcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSBpc1JpZ2h0RWRnZSA/IHRoaXMucHJvcHMucmlnaHRFZGdlQ2xhc3MgOiAnJztcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSBpc0xlZnRFZGdlICA/IHRoaXMucHJvcHMubGVmdEVkZ2VDbGFzcyAgOiAnJztcblxuICAgICAgICAgICAgY29uc3Qgc3R5bGUgPSB7XG4gICAgICAgICAgICAgIGxlZnQgICAgICAgOiBjYWxjRnVuY3Rpb24sXG4gICAgICAgICAgICAgIG1hcmdpbkxlZnQgOiBgLSR7dGhpcy5zdGF0ZS5pbm5lcldpZHRoIC8gMn1weGBcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiA8ZGl2IHJlZj17YGNoaWxkLSR7aX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWhpZGRlbj17aXNDZW50ZXIgPyAnZmFsc2UnIDogJ3RydWUnfT57Y2hpbGR9PC9kaXY+O1xuICAgICAgICAgIH0pfVxuXG4gICAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdEVsZW1lbnQgPSBfX1JlYWN0LlJlYWN0RWxlbWVudDtcblxuaW50ZXJmYWNlIENhcm91c2VsU2VsZWN0b3JQcm9wcyBleHRlbmRzIFJlYWN0LlByb3BzPENhcm91c2VsTmluamFTZWxlY3Rvcj4ge1xuICBhY3RpdmVDbGFzcz86IHN0cmluZztcbiAgc2VsZWN0OiBudW1iZXI7XG4gIGxlbmd0aDogbnVtYmVyO1xuICBvblNlbGVjdD86IChwcmV2STogbnVtYmVyLCBuZXh0STogbnVtYmVyKSA9PiB2b2lkO1xuICBvbkNsaWNrU2VsZWN0b3I/OiAoc2VsZWN0STogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJvdXNlbE5pbmphU2VsZWN0b3IgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Q2Fyb3VzZWxTZWxlY3RvclByb3BzLCBhbnk+IHtcblxuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIGFjdGl2ZUNsYXNzICAgICA6ICcgaXMtYWN0aXZlJyxcbiAgICBzZWxlY3QgICAgICAgICAgOiAwLFxuICAgIGxlbmd0aCAgICAgICAgICA6IDAsXG4gICAgb25TZWxlY3QgICAgICAgIDogKCkgPT4ge30sXG4gICAgb25DbGlja1NlbGVjdG9yIDogKCkgPT4ge30sXG4gIH07XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IENhcm91c2VsU2VsZWN0b3JQcm9wcykge1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2VsZWN0KSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2VsZWN0KG5leHRQcm9wcy5zZWxlY3QsIHRoaXMucHJvcHMuc2VsZWN0KTtcbiAgICB9XG4gIH1cblxuICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzOiBDYXJvdXNlbFNlbGVjdG9yUHJvcHMpIHtcbiAgICByZXR1cm4gZmFsc2UgfHxcbiAgICAgIG5leHRQcm9wcy5zZWxlY3QgIT09IHRoaXMucHJvcHMuc2VsZWN0IHx8XG4gICAgICBuZXh0UHJvcHMuY2hpbGRyZW4gIT09IHRoaXMucHJvcHMuY2hpbGRyZW5cbiAgICA7XG4gIH1cblxuICByZW5kZXJGcm9tQ2hpbGRyZW4oKSB7XG4gICAgcmV0dXJuIFJlYWN0LkNoaWxkcmVuLm1hcCh0aGlzLnByb3BzLmNoaWxkcmVuLCAoY2hpbGQ6IFJlYWN0LlJlYWN0Tm9kZSwgaTogbnVtYmVyKSA9PiB7XG4gICAgICBjb25zdCBpc1NlbGVjdGVkQ2hpbGQgPSBpID09PSB0aGlzLnByb3BzLnNlbGVjdDtcbiAgICAgIGxldCBjbGFzc05hbWUgPSAnQ2Fyb3VzZWxOaW5qYVNlbGVjdG9yX19pdGVtJztcbiAgICAgIGNsYXNzTmFtZSArPSBpc1NlbGVjdGVkQ2hpbGQgPyB0aGlzLnByb3BzLmFjdGl2ZUNsYXNzIDogJyc7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8bGkgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICBrZXk9e2l9XG4gICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2tTZWxlY3Rvci5iaW5kKHRoaXMsIGkpfVxuICAgICAgICAgICAgYXJpYS1zZWxlY3RlZD17aXNTZWxlY3RlZENoaWxkID8gJ3RydWUnIDogJ2ZhbHNlJ30+XG4gICAgICAgICAge2NoaWxkfVxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zQnlTZWxmKCkge1xuICAgIGNvbnN0IGNoaWxkcmVuOiBSZWFjdEVsZW1lbnQ8YW55PltdID0gW10sIGl6ID0gdGhpcy5wcm9wcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpejsgaSsrKSB7XG4gICAgICBsZXQgaXNTZWxlY3RlZENoaWxkID0gaSA9PT0gdGhpcy5wcm9wcy5zZWxlY3Q7XG4gICAgICBsZXQgY2xhc3NOYW1lID0gJ0Nhcm91c2VsTmluamFTZWxlY3Rvcl9faXRlbSc7XG4gICAgICBjbGFzc05hbWUgKz0gaXNTZWxlY3RlZENoaWxkID8gdGhpcy5wcm9wcy5hY3RpdmVDbGFzcyA6ICcnO1xuICAgICAgY2hpbGRyZW4ucHVzaCgoXG4gICAgICAgIDxsaSBjbGFzc05hbWU9e2NsYXNzTmFtZX1cbiAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbGlja1NlbGVjdG9yLmJpbmQodGhpcywgaSl9XG4gICAgICAgICAgICBhcmlhLXNlbGVjdGVkPXtpc1NlbGVjdGVkQ2hpbGQgPyAndHJ1ZScgOiAnZmFsc2UnfT5cbiAgICAgICAgICA8YnV0dG9uIHRhYkluZGV4PXstMX0gLz5cbiAgICAgICAgPC9saT5cbiAgICAgICkpXG4gICAgfVxuICAgIHJldHVybiBjaGlsZHJlblxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwiQ2Fyb3VzZWxOaW5qYVNlbGVjdG9yXCI+XG4gICAgICAgIHtSZWFjdC5DaGlsZHJlbi5jb3VudCh0aGlzLnByb3BzLmNoaWxkcmVuKSA/IHRoaXMucmVuZGVyRnJvbUNoaWxkcmVuKCkgOiB0aGlzLnJlbmRlckl0ZW1zQnlTZWxmKCl9XG4gICAgICA8L3VsPlxuICAgICk7XG4gIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2J1bmRsZS5kLnRzXCIgLz5cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCAqIGFzIHRocm90dGxlIGZyb20gJ3Rocm90dGxlaXQnO1xuaW1wb3J0IENhcm91c2VsTmluamFDb250YWluZXIgZnJvbSAnLi9DYXJvdXNlbE5pbmphQ29udGFpbmVyJztcbmltcG9ydCBDYXJvdXNlbE5pbmphU2VsZWN0b3IgZnJvbSAnLi9DYXJvdXNlbE5pbmphU2VsZWN0b3InO1xuXG5jb25zdCBEVVJBVElPTl9USFJPVFRMRV9LRVlVUCA9IDE1MDtcblxuY29uc3QgS0VZQ09ERV9MRUZUICA9IDM3O1xuY29uc3QgS0VZQ09ERV9SSUdIVCA9IDM5O1xuXG5pbnRlcmZhY2UgQ2Fyb3VzZWxOaW5qYVByb3BzIGV4dGVuZHMgUmVhY3QuUHJvcHM8Q2Fyb3VzZWxOaW5qYT4ge1xuICBjbGFzc05hbWU/OiBzdHJpbmc7XG4gIGFjdGl2ZUNsYXNzPzogc3RyaW5nO1xuICBvblNlbGVjdD86IChwcmV2STogbnVtYmVyLCBuZXh0STogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5jbGFzcyBDYXJvdXNlbE5pbmphIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PENhcm91c2VsTmluamFQcm9wcywgYW55PiB7XG5cbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBjbGFzc05hbWUgICA6ICcnLFxuICAgIGFjdGl2ZUNsYXNzIDogJyBpcy1hY3RpdmUnLFxuICAgIG9uU2VsZWN0ICAgIDogKCkgPT4ge30sXG4gIH07XG5cbiAgc3RhdGUgPSB7XG4gICAgY3VycmVudFNlbGVjdCA6IDJcbiAgfTtcblxuICB1cGRhdGVTZWxlY3Qoc2VsZWN0OiBudW1iZXIpIHtcbiAgICBjb25zdCBsYXN0SW5kZXggPSBSZWFjdC5DaGlsZHJlbi5jb3VudCh0aGlzLnByb3BzLmNoaWxkcmVuKSAtIDE7XG4gICAgaWYgKHNlbGVjdCA8IDApIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50U2VsZWN0IDogbGFzdEluZGV4XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdCA+IGxhc3RJbmRleCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRTZWxlY3QgOiAwXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGN1cnJlbnRTZWxlY3QgOiBzZWxlY3RcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9uS2V5VXAgPSB0aHJvdHRsZSgoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIHN3aXRjaChlLmtleUNvZGUpIHtcbiAgICAgIGNhc2UgS0VZQ09ERV9MRUZUOlxuICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdCh0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3QgLSAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEtFWUNPREVfUklHSFQ6XG4gICAgICAgIHRoaXMudXBkYXRlU2VsZWN0KHRoaXMuc3RhdGUuY3VycmVudFNlbGVjdCArIDEpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0sIERVUkFUSU9OX1RIUk9UVExFX0tFWVVQKTtcblxuICBvblNlbGVjdENoYW5nZShuZXh0STogbnVtYmVyLCBjdXJ0STogbnVtYmVyKSB7XG4gICAgdGhpcy5wcm9wcy5vblNlbGVjdChuZXh0SSwgY3VydEkpO1xuICB9XG5cbiAgb25DbGlja1NlbGVjdG9yKHNlbGVjdEk6IG51bWJlcikge1xuICAgIHRoaXMudXBkYXRlU2VsZWN0KHNlbGVjdEkpO1xuICB9XG5cbiAgb25Td2lwZUxlZnQobmV4dEk6IG51bWJlcikge1xuICAgIHRoaXMudXBkYXRlU2VsZWN0KG5leHRJKTtcbiAgfVxuXG4gIG9uU3dpcGVSaWdodChuZXh0STogbnVtYmVyKSB7XG4gICAgdGhpcy51cGRhdGVTZWxlY3QobmV4dEkpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIFRPRE8gW2FyaWEtY29udHJvbHNdXG5cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiB0YWJJbmRleD17MH0gY2xhc3NOYW1lPXt0aGlzLnByb3BzLmNsYXNzTmFtZX0gb25LZXlVcD17dGhpcy5vbktleVVwLmJpbmQodGhpcyl9PlxuICAgICAgICA8Q2Fyb3VzZWxOaW5qYUNvbnRhaW5lciBhY3RpdmVDbGFzcz17dGhpcy5wcm9wcy5hY3RpdmVDbGFzc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0PXt0aGlzLnN0YXRlLmN1cnJlbnRTZWxlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXt0aGlzLm9uU2VsZWN0Q2hhbmdlLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3dpcGVMZWZ0PXt0aGlzLm9uU3dpcGVMZWZ0LmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU3dpcGVSaWdodD17dGhpcy5vblN3aXBlUmlnaHQuYmluZCh0aGlzKX0+XG4gICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIDwvQ2Fyb3VzZWxOaW5qYUNvbnRhaW5lcj5cblxuICAgICAgICA8Q2Fyb3VzZWxOaW5qYVNlbGVjdG9yIGFjdGl2ZUNsYXNzPXt0aGlzLnByb3BzLmFjdGl2ZUNsYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdD17dGhpcy5zdGF0ZS5jdXJyZW50U2VsZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aD17UmVhY3QuQ2hpbGRyZW4uY291bnQodGhpcy5wcm9wcy5jaGlsZHJlbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9e3RoaXMub25TZWxlY3RDaGFuZ2UuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrU2VsZWN0b3I9e3RoaXMub25DbGlja1NlbGVjdG9yLmJpbmQodGhpcyl9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCB7XG4gIENhcm91c2VsTmluamEsXG4gIENhcm91c2VsTmluamFDb250YWluZXIsXG4gIENhcm91c2VsTmluamFTZWxlY3RvclxufTtcbiJdfQ==
